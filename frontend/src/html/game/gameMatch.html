<!-- Game canvas, by default-->
<div
	id="game-container"
	class="w-full max-w-[1200px] mx-auto text-center flex flex-col items-center"
>
	<canvas
		id="game-canvas"
		width="800"
		height="600"
		class="bg-black mx-auto block max-w-full h-auto"
></canvas>
	<button
		id="pause-btn"
		class="mt-6 btn-pong-secondary text-pong-secondary font-bold py-3 px-8 rounded-lg shadow-lg transition duration-200 text-lg focus:outline-none focus:ring-2 focus:ring-candlelight-400"
		type="button"
	>
	⏸ Pause
	</button>
</div>

<!-- Ready-waiting players modal overlay -->
<!-- <div id="ready-modal"
	class="fixed inset-0 z-50 flex items-center justify-center bg-overlays" 
	style="display: flex;">
<div class="flex flex-row items-center justify-center w-full max-w-xl px-8 py-8 border-4 border-[#00ff99] bg-overlays rounded-lg shadow-xl backdrop-blur">
	<div class="flex flex-col items-center flex-1 min-w-0">
		<img id="player1-avatar" src="/images/default-avatar.png" class="w-28 h-28 rounded-full border-4 border-white bg-gray-200 mb-2" />
		<div id="player1-name" class="text-pong-secondary text-lg font-semibold mb-1 w-full truncate text-center">Waiting for player 1...</div>
		<div id="player1-ready" class="text-green-400 font-bold"></div>
	</div>
	<div class="flex flex-col items-center mx-4">
		<button id="ready-btn"
			class="bg-green-500 text-pong-secondary px-6 py-3 rounded-lg font-bold text-lg hover:bg-green-600 transition">
			Ready to play!
		</button>
	<div id="waiting-msg" class="text-gray-300 text-center min-h-[1.5em]"></div>
	</div>
	<div class="flex flex-col items-center flex-1 min-w-0">
		<img id="player2-avatar" src="/images/default-avatar.png" class="w-28 h-28 rounded-full border-4 border-white bg-gray-200 mb-2" />
		<div id="player2-name" class="text-pong-secondary  text-lg font-semibold mb-1 w-full truncate text-center">Waiting for player 2...</div>
		<div id="player2-ready" class="text-green-400 font-bold"></div>
	</div>
</div>
</div> -->

<!-- Ready-waiting players modal overlay -->
<div id="ready-modal"
	class="fixed inset-0 z-50 flex items-center justify-center bg-overlays" 
	style="display: flex;">

	<div class="flex flex-col md:flex-row items-center justify-center 
            w-[90%] sm:w-4/5 max-w-xl 
            px-8 py-8 border-2 border-candlelight-400 box-shadow-md bg-overlays 
            rounded-lg shadow-xl backdrop-blur">
	
		<!-- Player 1 -->
		<div class="flex flex-col items-center flex-1 min-w-0 mb-6 md:mb-0">
			<img id="player1-avatar" src="/images/default-avatar.png" class="w-28 h-28 rounded-full border-4 border-international-orange-400 bg-gray-200 mb-2" />
			<div id="player1-name" class="text-international-orange-400  text-lg font-semibold mb-1 w-full truncate text-center">Waiting for <br> player1...</div>
			<div id="player1-ready" class="text-candlelight-400 font-bold blink">Press Ready...</div>
		</div>
		
		<!-- Ready button -->
		<div class="flex flex-col items-center mx-4 mb-6 md:mb-0">
			<button id="ready-btn"
				class="btn-pong-primary px-6 py-3 rounded-lg font-bold text-lg">
				Ready to play!
			</button>
			<div id="waiting-msg" class="text-pong-secondary text-center min-h-[1.5em] blink pt-6"></div>
		</div>
		
		<!-- Player 2 -->
		<div class="flex flex-col items-center flex-1 min-w-0">
			<img id="player2-avatar" src="/images/default-avatar.png" class="w-28 h-28 rounded-full border-4 border-international-orange-400 bg-gray-200 mb-2" />
			<div id="player2-name" class="text-international-orange-400 text-lg font-semibold mb-1 w-full truncate text-center">Waiting for <br>layer 2...</div>
			<div id="player2-ready" class="text-candlelight-400 font-bold"></div>
		</div>
	</div>
</div>


<!-- Start game countdown overlay, hidden by default -->
<div id="countdown-overlay"
class="fixed inset-0 z-50 flex items-center justify-center bg-overlays"
style="display: none;">
	<div class="flex flex-col items-center rounded-lg px-8 py-6 shadow-xl backdrop-blur">
		<span class="text-pong-secondary  text-[15vw] font-extrabold font-[Tektur] drop-shadow-lg" id="countdown-number"></span>
		<div id="countdown-reason" class="text-pong-secondary  text-2xl mt-4 font-semibold text-center"></div>
	</div>
</div>

<!-- Game results overlay, hidden by default -->
<!-- <div id="game-results" class="fixed inset-0 z-50 flex items-center justify-center bg-overlays" style="display: none;">
	<div class="border-4 border-[#00ff99] rounded-lg px-8 py-6 w-full max-w-2xl min-w-[600px] text-pong-secondary  text-center shadow-lg bg-overlays backdrop-blur"
		style="box-shadow: 0 0 20px rgba(0, 255, 153, 0.5);">
	
	<h2 class="text-4xl font-bold text-[#00ff99] mb-6 font-[Tektur]">Game Over</h2>

	<div class="mb-6 text-base space-y-2 font-[Tektur]">
		<p id="reason-text"><span id="end-reason"></span></p>
		<p id="winner-text"><strong>Winner:</strong> <span id="winner-name">Player1</span></p>
		<p id="score-text"><strong>Final Score:</strong> <span id="final-score">0 - 0</span></p>
		<p id="duration-text"><strong>Game Duration:</strong> <span id="game-duration">0</span></p>
	</div>

	<div class="flex flex-col gap-4 items-center font-[Tektur]">
		<button id="play-again-btn" style="width: 200px"
		class="h-12 py-3 bg-green-500 text-pong-secondary  border-none rounded hover:bg-green-600 font-bold cursor-pointer text-base flex justify-center items-center">
		Play Again
		</button>
		<button id="return-lobby-btn" style="width: 200px"
		class="h-12 py-3 bg-blue-500 text-pong-secondary  border-none rounded hover:bg-blue-600 font-bold cursor-pointer text-base flex justify-center items-center">
		Return to Lobby
		</button>
	</div>

	</div>
</div> -->
<div id="game-results" class="fixed inset-0 z-50 flex items-center justify-center bg-overlays" style="display: none;">
	<div class="glow-yellow  border-2 border-candlelight-400 rounded-lg px-8 py-6 
	            w-[90%] sm:w-[85%] md:w-[80%] lg:w-[70%] max-w-2xl
	            text-pong-secondary  text-center shadow-lg bg-overlays backdrop-blur"
		style="box-shadow: 0 0 20px rgba(238, 190, 33, 0.5);">
	
		<h2 class="text-4xl font-bold text-candlelight-400 mb-6 font-[Tektur]">Game Over</h2>

		<div class="mb-6 text-base space-y-2 font-[Tektur]">
			<p class=" text-pong-text-muted" id="reason-text"><span id="end-reason"></span></p>
			<p class="text-xl" id="winner-text"><strong>Winner:  </strong><span class="text-2xl uppercase blink" id="winner-name">Player1</span></p>
			<p class="text-xl" id="score-text"><strong>Final Score: </strong> <span class="text-2xl"id="final-score">0 - 0</span></p>
			<p class="text-xl" id="duration-text"><strong>Game Duration: </strong> <span class="text-2xl"id="game-duration">0</span></p>
		</div>

		<div class="flex flex-col gap-4 items-center font-[Tektur]">
			<button id="play-again-btn" style="width: 200px"
			class="h-12 py-3 btn-pong-primary border-none rounded font-bold cursor-pointer text-base flex justify-center items-center">
				Play Again
			</button>
			<button id="return-lobby-btn" style="width: 200px"
			class="h-12 py-3  border-none rounded btn-pong-tertiary font-bold cursor-pointer text-base flex justify-center items-center">
				Return to Lobby
			</button>
		</div>
	</div>
</div>



<!-- Pause modal (match border and background style) -->
<div id="pause-modal"
	class="fixed inset-0 z-50 flex items-center justify-center bg-overlays"
	style="display: none;">
	<div class="rounded-lg px-8 py-6 flex flex-col items-center shadow-xl bg-overlays border-4 border-candlelight-400 backdrop-blur" style="box-shadow: 0 0 20px rgba(241, 188, 11, 0.5);">
		<span class="text-4xl font-bold text-candlelight-400 mb-6 font-[Tektur] flex items-center gap-2">
			<svg class="w-8 h-8 text-candlelight-400 inline-block" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1"/><rect x="14" y="4" width="4" height="16" rx="1"/></svg>
			Game Paused
		</span>
		<div id="pause-reason" class="text-pong-secondary  text-lg mb-4"></div>
		<div id="pause-timer" class="text-international-orange-400 text-3xl font-[Tektur] mb-2"></div>
		<div class="w-64 h-2 bg-gray-700 rounded overflow-hidden mb-4">
			<div id="pause-timer-bar" class="h-full bg-chilean-fire-400" style="width:100%"></div>
		</div>
		<button id="resume-btn"
			class="mt-4 btn-pong-tertiary text-pong-secondary font-bold py-3 px-8 rounded-lg shadow-lg transition duration-200 text-lg focus:outline-none focus:ring-2 focus:ring-candlelight-400"
			type="button">
			▶ Resume
		</button>
	</div>
</div>

<!-- Confirmation dialog before navigating away -->
<div
	id="confirm-dialog-overlay"
	class="fixed inset-0 z-50 flex items-center justify-center bg-overlays hidden"
	tabindex="-1"
	style="display: none;"
>
	<div class="rounded-lg px-8 py-6 flex flex-col items-center shadow-xl bg-overlays border-4 border-candlelight-400 backdrop-blur" style="box-shadow: 0 0 20px rgba(241, 188, 11, 0.5);">
		<div id="confirm-dialog-content" class="confirm-dialog-content text-white text-lg mb-4 text-center"></div>
		<div id="confirm-timer" class="text-international-orange-400 text-3xl font-[Tektur] mb-2"></div>
		<div class="w-64 h-2 bg-gray-700 rounded overflow-hidden mb-4">
			<div id="confirm-timer-bar" class="h-full bg-chilean-fire-400" style="width:100%"></div>
		</div>
		<div class="confirm-dialog-buttons flex gap-4">
			<button id="confirm-dialog-yes"
				class="mt-4 btn-pong-secondary text-pong-secondary font-bold py-3 px-8 rounded-lg shadow-lg transition duration-200 text-lg focus:outline-none focus:ring-2 focus:ring-candlelight-400"
				type="button">
				Yes
			</button>
			<button id="confirm-dialog-no"
				class="mt-4 btn-pong-tertiary text-pong-tertiary font-bold py-3 px-8 rounded-lg shadow-lg transition duration-200 text-lg focus:outline-none focus:ring-2 focus:ring-candlelight-400"
				type="button">
				No
			</button>
		</div>
	</div>
</div>
